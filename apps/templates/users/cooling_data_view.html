{% extends "layouts/base.html" %}
{% load filters %}

{% block title %}Cooling of {{coolings_data.food_item}}{% endblock %}

{% block content %}
{% if messages %}
    <div class="messages">
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} message" id="message-{{ forloop.counter }}">
                {{ message }}
            </div>
        {% endfor %}
    </div>
{% endif %}
<div style="display: flex; justify-content: space-between; padding: 20px;">
    <a href="javascript:history.back()" class="btn btn-primary btn-sm" style="text-decoration: none; font-size: 16px;">Back</a>
</div>
<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header card-header-primary">
                <h4 class="card-title">Cooling Details of {{coolings_data.food_item}}</h4>
            </div>
            <div class="card-body">
                <div class="container mt-4">                    
                    <!-- Personal Hygiene Record -->
                    <div class="card mb-4">
                        <div class="card-body">
                            <h5 class="card-title">
                            <p><strong>Location : </strong>{{coolings_data.storage_location }}</p>
                            <p><strong>Sub Location : </strong> {{ coolings_data.sub_storage_location }}</p>
                            <p><strong>Item Name : </strong>{{coolings_data.food_item}}</p>
                            <p><strong>Cooling Method : </strong>{{coolings_data.cooling_methods}}</p>
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <p><strong>Temp at 0 hrs : </strong>{{coolings_data.internal_temp_at_0_hrs}}</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <p><strong>Temp at 1 hrs : </strong>{{coolings_data.internal_temp_at_1_hrs}}</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <p><strong>Temp at 2 hrs : </strong>{{coolings_data.internal_temp_at_2_hrs}}</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <p><strong>Temp at 3 hrs : </strong>{{coolings_data.internal_temp_at_3_hrs}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <p><strong>Temp at 4 hrs : </strong>{{coolings_data.internal_temp_at_4_hrs}}</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <p><strong>Temp at 5 hrs : </strong>{{coolings_data.internal_temp_at_5_hrs}}</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <p><strong>Temp at 6 hrs : </strong>{{coolings_data.internal_temp_at_6_hrs}}</p>
                                </div>
                            </div>
                            <!-- Parameters Checked with New Line After Yes/No -->
                            <p><strong>Corrective Actions:</strong> 
                                {% if coolings_data.corrective_actions %}
                                {{ coolings_data.corrective_actions|replace_list_bracket|safe  }}
                                {% else %}
                                    No parameters available.
                                {% endif %}
                            </p>
                            <p><strong>Action Description : </strong>{{coolings_data.action_comment}}</p>
                            <p><strong>Description : </strong>{{coolings_data.text_message}}</p>
                            <p><strong>Supervisor Approver : </strong>{{coolings_data.supervisor_approved_by}}</p>
                            <p><strong>Manager Approver : </strong>{{coolings_data.manager_approved_by}}</p>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </div>
</div>

{% endblock %}
